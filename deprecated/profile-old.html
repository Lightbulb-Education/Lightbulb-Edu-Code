{% extends 'base.html' %} 

{% block title %}
  <title>Profile - Lightbulb Education Code</title>
{% endblock %} 

{% block head %}
<script type="text/javascript">
	initApp = function() {
        firebase.auth().onAuthStateChanged(function(user) {
          if (user) {
            // User is signed in.
            var displayName = user.displayName;
            var email = user.email;
            var photoURL = user.photoURL;
            var uid = user.uid;
            $("#name").html(displayName)
            $("#email").html(email)
            $("#profile").attr("src", photoURL)
          } else {
            // User is signed out.
            console.error("User is signed out")
          }
        }, function(error) {
          console.log(error);
        });
      };

      window.addEventListener('load', function() {
        initApp();
      });

</script>
{% endblock %} 

{% block content %}
  <h1 class="text-center mt-4 mb-4">Profile</h1>
  <div class="min-wid mx-auto d-block">
    <img id="profile" class="profile mx-auto d-block mb-4" src="" alt="profile">

    <ul class="list-group mx-auto d-block">
      <li class="list-group-item d-flex align-items-center">
        <i class="material-icons">account_circle</i>
        <span class="profile-info ml-2" id="name"></span>
      </li>
      <li class="list-group-item d-flex align-items-center">
        <i class="material-icons">email</i>
        <span class="profile-info ml-2" id="email"></span>
      </li>
    </ul>
  </div>
{% endblock %}